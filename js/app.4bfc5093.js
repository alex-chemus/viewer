(function(t){function e(e){for(var c,r,s=e[0],i=e[1],l=e[2],u=0,d=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);b&&b(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],c=!0,r=1;r<a.length;r++){var s=a[r];0!==n[s]&&(c=!1)}c&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var c={},r={app:0},n={app:0},o=[];function s(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-7b1e1b06":"bde08186","chunk-a2c1d322":"a572c37f"}[t]+".js"}function i(e){if(c[e])return c[e].exports;var a=c[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a={"chunk-7b1e1b06":1,"chunk-a2c1d322":1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var c="css/"+({}[t]||t)+"."+{"chunk-7b1e1b06":"b999cdd8","chunk-a2c1d322":"93218c0d"}[t]+".css",n=i.p+c,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var l=o[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===c||u===n))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===c||u===n)return e()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=e,b.onerror=function(e){var c=e&&e.target&&e.target.src||n,o=new Error("Loading CSS chunk "+t+" failed.\n("+c+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=c,delete r[t],b.parentNode.removeChild(b),a(o)},b.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(b)})).then((function(){r[t]=0})));var c=n[t];if(0!==c)if(c)e.push(c[2]);else{var o=new Promise((function(e,a){c=n[t]=[e,a]}));e.push(c[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=s(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(b);var a=n[t];if(0!==a){if(a){var c=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+c+": "+r+")",d.name="ChunkLoadError",d.type=c,d.request=r,a[1](d)}n[t]=void 0}};var b=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},i.m=t,i.c=c,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)i.d(a,c,function(e){return t[e]}.bind(null,c));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="https://alex-chemus.github.io/viewer/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var b=u;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"04e5":function(t,e,a){"use strict";a("86f5")},"07e6":function(t,e,a){"use strict";a("5880")},"0c37":function(t,e,a){},"0e63":function(t,e,a){"use strict";a("1ed3")},"148f":function(t,e,a){"use strict";a("66f7")},"152a":function(t,e,a){},"1ed3":function(t,e,a){},"568c":function(t,e,a){"use strict";var c=a("7a23");const r=t=>(Object(c["A"])("data-v-3120d1b2"),t=t(),Object(c["y"])(),t),n=r(()=>Object(c["g"])("div",{class:"lds-ripple"},[Object(c["g"])("div"),Object(c["g"])("div")],-1)),o=[n];var s=Object(c["l"])({props:{size:null},setup(t){const e=t,a=Object(c["C"])({width:e.size+"px",height:e.size+"px"});return(t,e)=>(Object(c["x"])(),Object(c["f"])("div",{class:"wrapper",style:Object(c["r"])(a.value)},o,4))}}),i=(a("723c"),a("d959")),l=a.n(i);const u=l()(s,[["__scopeId","data-v-3120d1b2"]]);e["a"]=u},5880:function(t,e,a){},"5ac5":function(t,e,a){"use strict";a("152a")},"66f7":function(t,e,a){},7019:function(t,e,a){"use strict";a("c3ea")},"723c":function(t,e,a){"use strict";a("0c37")},7463:function(t,e,a){"use strict";a("9bcc")},"86f5":function(t,e,a){},"88e7":function(t,e,a){},"944d":function(t,e,a){},"9bcc":function(t,e,a){},ad01:function(t,e,a){"use strict";a("d9e2");var c=a("7a23"),r=a("5502"),n=a("6c02"),o=a("bc3a"),s=a.n(o);const i=["src"];var l=Object(c["l"])({props:{url:null,styles:null},setup(t){const e=t,a=Object(c["C"])(null),r=Object(c["C"])(null),n=async()=>{try{const t=await fetch("https://viewer-img.herokuapp.com/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e.url})}),a=await t.arrayBuffer(),c=new Blob([a],{type:t.headers.get("Content-Type").split(";")[0]});return URL.createObjectURL(c)}catch(t){return console.log("failed to get local src",t),Promise.reject()}},o=new IntersectionObserver(t=>{t[0].isIntersecting&&n().then(t=>a.value=t)},{threshold:1,rootMargin:"200px"});return Object(c["v"])(()=>{r.value&&o.observe(r.value)}),(e,n)=>a.value?(Object(c["x"])(),Object(c["f"])("img",{key:0,src:a.value,style:Object(c["r"])(t.styles),alt:"Poster"},null,12,i)):(Object(c["x"])(),Object(c["f"])("div",{key:1,class:"placeholder",ref_key:"placeholder",ref:r},null,512))}}),u=(a("07e6"),a("d959")),d=a.n(u);const b=d()(l,[["__scopeId","data-v-05f10c98"]]);var p=b;const j={key:0,class:"card","data-test":"card"},v={class:"card-body"},O={class:"image-container mb-3"},f=["title"],h={class:"wrapper mb-3 text-wrapper"},g={key:0,class:"card-text year m-0"},m={key:1,class:"card card-placeholder"};var y=Object(c["l"])({props:{data:null},setup(t){const e=t,a=Object(c["o"])("key"),{getters:o,commit:i}=Object(r["b"])(a),l=Object(n["d"])(),u=async()=>{var t;if(null!==(t=e.data)&&void 0!==t&&t.type)return e.data.type;try{var a;const t=`${o.url}/Title/${o.apiKey}/${e.data.id}`,c=await s.a.get(t);if(null!==(a=c.data.errorMessage)&&void 0!==a&&a.length||200!==c.status)throw new Error("The server sent errorMessage: "+c.data.errorMessage);i("addPage",c.data);const r="Movie"===c.data.type?"movies":"series";return r}catch(c){throw console.log("failed to fetch in Card:",c),l.push("/notfound"),new Error}},d=async t=>{t.preventDefault();const a=await u();l.push(`/${a}/${e.data.id}`)},b=async()=>{if(!localStorage.getItem("watchlist")){const t={movies:[],series:[]};localStorage.setItem("watchlist",JSON.stringify(t))}const t=JSON.parse(localStorage.getItem("watchlist")),a=await u();t[a].find(t=>t.id===e.data.id)||(t[a].push({title:e.data.title,rating:e.data.imDbRating,type:a,id:e.data.id}),localStorage.setItem("watchlist",JSON.stringify(t)))},y=Object(c["b"])(()=>{let t;return t=e.data.imDbRating>8?"text-success":e.data.imDbRating>6?"text-warning":"text-danger",`card-text rating ${t} m-0`});return(e,a)=>t.data?(Object(c["x"])(),Object(c["f"])("article",j,[Object(c["g"])("div",v,[Object(c["g"])("div",O,[Object(c["j"])(p,{url:t.data.image,styles:{maxHeight:"100%",maxWidth:"100%"}},null,8,["url"])]),Object(c["g"])("h5",{class:"card-title mb-1",title:t.data.title},Object(c["G"])(t.data.title),9,f),Object(c["g"])("div",h,[t.data.year?(Object(c["x"])(),Object(c["f"])("p",g,Object(c["G"])(t.data.year),1)):Object(c["e"])("",!0),Object(c["g"])("p",{class:Object(c["q"])(Object(c["H"])(y))},Object(c["G"])(t.data.imDbRating),3)]),Object(c["g"])("div",{class:"wrapper"},[Object(c["g"])("button",{onClick:b,class:"btn btn-primary","data-test":"addBtn"},"Add"),Object(c["g"])("button",{onClick:d,class:"btn btn-warning"},"Info")])])])):(Object(c["x"])(),Object(c["f"])("article",m))}});a("148f");const w=d()(y,[["__scopeId","data-v-da90a0aa"]]);e["a"]=w},b5b0:function(t,e,a){},c3ea:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);var c=a("7a23"),r=a("6c02");const n={class:"nav justify-content-start"},o={class:"nav-item"},s=Object(c["i"])(" Watchlist "),i={class:"nav-item"},l=Object(c["i"])(" Popular movies "),u={class:"nav-item"},d=Object(c["i"])(" Popular series "),b=Object(c["h"])('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-12884a79><circle cx="8.00001" cy="8.00001" r="5.46366" stroke="currentColor" stroke-width="1" data-v-12884a79></circle><rect x="7.60976" width="1" height="2.34146" fill="currentColor" data-v-12884a79></rect><rect x="16" y="7.60976" width="1" height="2.34146" transform="rotate(90 16 7.60976)" fill="currentColor" data-v-12884a79></rect><rect x="14.11" y="13.363" width="1" height="2.34146" transform="rotate(135 14.11 13.363)" fill="currentColor" data-v-12884a79></rect><rect x="2.50311" y="13.9149" width="1" height="2.34146" transform="rotate(-135 2.50311 13.9149)" fill="currentColor" data-v-12884a79></rect><rect x="4.15877" y="3.60689" width="1" height="2.34146" transform="rotate(135 4.15877 3.60689)" fill="currentColor" data-v-12884a79></rect><rect x="12.2592" y="4.15877" width="1" height="2.34146" transform="rotate(-135 12.2592 4.15877)" fill="currentColor" data-v-12884a79></rect><rect x="2.34146" y="7.60976" width="1" height="2.34146" transform="rotate(90 2.34146 7.60976)" fill="currentColor" data-v-12884a79></rect><rect x="7.60976" y="13.6585" width="1" height="2.34146" fill="currentColor" data-v-12884a79></rect></svg>',1),p=[b];var j=Object(c["l"])({setup(t){const e=Object(c["C"])(window.matchMedia("(prefers-color-scheme: dark)").matches);function a(){const t=document.querySelector("main");t.classList.contains("dark")?(t.classList.remove("dark"),t.classList.add("light")):(t.classList.remove("light"),t.classList.add("dark"))}return(t,r)=>{const b=Object(c["E"])("router-link"),j=Object(c["E"])("router-view");return Object(c["x"])(),Object(c["f"])("main",{class:Object(c["q"])(e.value?"dark":"light")},[Object(c["g"])("nav",n,[Object(c["g"])("div",o,[Object(c["j"])(b,{to:"/watchlist",class:Object(c["q"])("/watchlist"===t.$route.path?"nav-link text-primary":"nav-link")},{default:Object(c["J"])(()=>[s]),_:1},8,["class"])]),Object(c["g"])("div",i,[Object(c["j"])(b,{to:"/popular/movies",class:Object(c["q"])("/popular-movies"===t.$route.path||"/"===t.$route.path?"nav-link btn-hide text-primary":"nav-link btn-hide")},{default:Object(c["J"])(()=>[l]),_:1},8,["class"])]),Object(c["g"])("div",u,[Object(c["j"])(b,{to:"/popular/series",class:Object(c["q"])("/popular-series"===t.$route.path?"nav-link btn-hide text-primary":"nav-link btn-hide")},{default:Object(c["J"])(()=>[d]),_:1},8,["class"])]),Object(c["g"])("div",{class:"nav-item toggle px-2 py-1"},[Object(c["g"])("button",{class:"btn btn-primary",onClick:a},p)])]),(Object(c["x"])(),Object(c["d"])(j,{key:t.$route.fullPath}))],2)}}}),v=(a("fcef"),a("d959")),O=a.n(v);const f=O()(j,[["__scopeId","data-v-12884a79"]]);var h=f,g=a("5502");const m=Object(g["a"])({state:{pages:[],apiKey:"k_zealvkev",url:"https://imdb-api.com/en/API",isDarkTheme:!1},mutations:{addPage(t,e){t.pages.push(e)}},getters:{getPage(t){return e=>t.pages.find(t=>t.id===e)},hasPage(t){return e=>!!t.pages.find(t=>t.id===e)},url(t){return t.url},apiKey(t){return t.apiKey}}});a("d9e2");var y=a("bc3a"),w=a.n(y),k=a("568c"),x=a("ad01");const _=t=>(Object(c["A"])("data-v-0f93b3b3"),t=t(),Object(c["y"])(),t),C={class:"container"},S=_(()=>Object(c["g"])("h2",{class:"mb-3"},"Sorry, but something went wrong",-1)),I=_(()=>Object(c["g"])("h3",null,"¯\\_(ツ)_/¯",-1)),L=[S,I];function P(t,e){return Object(c["x"])(),Object(c["f"])("div",C,L)}a("5ac5");const T={},E=O()(T,[["render",P],["__scopeId","data-v-0f93b3b3"]]);var M=E;const $=(t,e)=>{let a=setTimeout(()=>{});const c=function(){for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];clearTimeout(a),a=setTimeout(()=>{t(...r)},e)};return c};var D=$;const J={class:"group-list-item p-2"},A={class:"wrapper me-3"},N=["title"],q=["title"],B=Object(c["i"])("Info");var K=Object(c["l"])({props:{item:null},setup(t){const e=Object(r["c"])(),a=Object(c["C"])(e.params.type||"movies");return(e,r)=>{const n=Object(c["E"])("router-link");return Object(c["x"])(),Object(c["f"])("li",J,[Object(c["g"])("div",A,[Object(c["g"])("h6",{class:"mb-2",title:t.item.title},Object(c["G"])(t.item.title),9,N),Object(c["g"])("i",{class:"m-0",title:t.item.description},Object(c["G"])(t.item.description),9,q)]),Object(c["j"])(n,{to:`/${a.value}/${t.item.id}`,class:"btn btn-warning"},{default:Object(c["J"])(()=>[B]),_:1},8,["to"])])}}});a("7019");const R=O()(K,[["__scopeId","data-v-21b09a5c"]]);var H=R,z=a("a1e9");const G={class:"popup"},U={key:0,class:"loader-container"},W={key:1,class:"list-group"};var F=Object(c["l"])({props:{searchedList:null,isLoading:{type:Boolean}},setup(t){const e=t,a=Object(z["c"])(()=>e.searchedList.results.map((t,e)=>({i:e,...t})));return(e,r)=>(Object(c["x"])(),Object(c["f"])("div",G,[t.isLoading?(Object(c["x"])(),Object(c["f"])("div",U,[Object(c["j"])(k["a"],{size:"70"})])):!t.isLoading&&Object(c["H"])(a)?(Object(c["x"])(),Object(c["f"])("ul",W,[(Object(c["x"])(!0),Object(c["f"])(c["a"],null,Object(c["D"])(Object(c["H"])(a),t=>(Object(c["x"])(),Object(c["d"])(H,{key:t.i,item:t},null,8,["item"]))),128))])):Object(c["e"])("",!0)]))}});a("0e63");const V=O()(F,[["__scopeId","data-v-3a30a9dd"]]);var Q=V;const X=["placeholder"];var Y=Object(c["l"])({props:{contentType:null},setup(t){const e=t,a=Object(c["o"])("key"),{getters:r}=Object(g["b"])(a),n=Object(c["C"])(null),o=Object(c["C"])(!1),s=Object(c["C"])(!0),i=Object(c["C"])(null),l=t=>{const a=t.target;if(""===a.value.trim())return;o.value=!0;const c=a.value,s="movies"===e.contentType?"SearchMovie":"SearchSeries";w()(`${r.url}/${s}/${r.apiKey}/${c}`).then(t=>{var e;if(null!==(e=t.data.errorMessage)&&void 0!==e&&e.length||200!==t.status)throw new Error("The server sent errorMessage: "+t.data.errorMessage);o.value=!1,n.value=t.data}).catch(t=>{console.log("failed to search "+e.contentType,t)})},u=D(l,1e3),d=t=>{var e;null!==(e=i.value)&&void 0!==e&&e.contains(t.target)?s.value=!0:s.value=!1};return document.addEventListener("click",d),Object(c["t"])(()=>{document.removeEventListener("click",d)}),(e,a)=>(Object(c["x"])(),Object(c["f"])("form",{onSubmit:a[1]||(a[1]=Object(c["K"])(()=>{},["prevent"])),ref_key:"form",ref:i},[Object(c["g"])("input",{type:"text",class:"form-control",placeholder:"Search "+t.contentType,onInput:a[0]||(a[0]=function(){return Object(c["H"])(u)&&Object(c["H"])(u)(...arguments)})},null,40,X),o.value&&s.value?(Object(c["x"])(),Object(c["d"])(Q,{key:0,searchedList:n.value,isLoading:o.value},null,8,["searchedList","isLoading"])):Object(c["e"])("",!0)],544))}});a("ee04");const Z=O()(Y,[["__scopeId","data-v-0ca36880"]]);var tt=Z;const et={key:0,class:"container pt-5"},at={class:"row justify-content-center mb-4"},ct={class:"col-xl-6 col-lg-8 col-12"},rt={class:"mb-3 text-center"},nt={class:"row justify-content-center mb-3"},ot={class:"row justify-content-center"};var st=Object(c["l"])({setup(t){const e=Object(c["o"])("key"),{getters:a}=Object(g["b"])(e),n=Object(r["c"])(),o=Object(c["C"])(null),s=Object(c["C"])(21),i=Object(c["C"])(n.params.type),l="movies"===i.value?"popularMovies":"popularSeries",u="movies"===i.value?"MostPopularMovies":"MostPopularTVs",d=async()=>{try{const t=await w.a.get(`${a.url}/${u}/${a.apiKey}`),e=""!==t.data.errorMessage||200!==t.status;if(e)throw new Error("Error");const c=[];return console.log("assign data locally"),t.data.items.forEach((t,e)=>{c.push({title:t.title,year:t.year,imDbRating:t.imDbRating,image:t.image,id:t.id,type:i.value,i:e})}),o.value=c.slice(0,s.value),localStorage.setItem(l,JSON.stringify({list:c,time:Date.now()})),null}catch(t){return o.value="Error",null}},b=()=>{if(console.log("get data"),JSON.parse(localStorage.getItem(l))){const t=JSON.parse(localStorage.getItem(l));o.value=t.list.slice(0,s.value),Date.now()-t.time>36e5&&d()}else console.log("fetch new data"),d()};Object(c["I"])(()=>n.params,b);const p=()=>{s.value+=20,b()};return(t,e)=>{var a;return(null===(a=o.value)||void 0===a?void 0:a.length)>0?(Object(c["x"])(),Object(c["f"])("section",et,[Object(c["g"])("div",at,[Object(c["g"])("div",ct,[Object(c["j"])(tt,{contentType:i.value},null,8,["contentType"])])]),Object(c["g"])("h1",rt,"Popular "+Object(c["G"])(i.value),1),Object(c["g"])("div",nt,[(Object(c["x"])(!0),Object(c["f"])(c["a"],null,Object(c["D"])(o.value,t=>(Object(c["x"])(),Object(c["f"])("div",{key:t.i,class:"col-xl-2 col-lg-3 col-sm-4 col-8 py-3"},[Object(c["j"])(x["a"],{data:t},null,8,["data"])]))),128))]),Object(c["g"])("div",ot,[o.value.length<100?(Object(c["x"])(),Object(c["f"])("button",{key:0,class:"btn btn-primary loadMore col-auto mb-3",onClick:p},"Load more")):Object(c["e"])("",!0)])])):"Error"===o.value?(Object(c["x"])(),Object(c["d"])(M,{key:1})):(Object(c["x"])(),Object(c["d"])(k["a"],{key:2,size:"180"}))}}});a("04e5");const it=O()(st,[["__scopeId","data-v-96cca0fa"]]);var lt=it;const ut=t=>(Object(c["A"])("data-v-686bebaf"),t=t(),Object(c["y"])(),t),dt={class:"container"},bt=ut(()=>Object(c["g"])("h2",{class:"mb-3"},"Sorry, but nothing found",-1)),pt=ut(()=>Object(c["g"])("h3",null,"¯\\_(ツ)_/¯",-1)),jt=[bt,pt];function vt(t,e){return Object(c["x"])(),Object(c["f"])("div",dt,jt)}a("7463");const Ot={},ft=O()(Ot,[["render",vt],["__scopeId","data-v-686bebaf"]]);var ht=ft;const gt=Object(c["k"])({loader:()=>a.e("chunk-7b1e1b06").then(a.bind(null,"bb83")),loadingComponent:k["a"]}),mt=Object(c["k"])({loader:()=>a.e("chunk-a2c1d322").then(a.bind(null,"99bb")),loadingComponent:k["a"]}),yt=[{path:"/",redirect:"/popular/movies"},{path:"/popular/:type",component:lt},{path:"/:type/:id",component:gt},{path:"/watchlist",component:mt},{path:"/:pathMatch(.*)",component:ht,alias:"/notfound"}];var wt=yt;a("944d");const kt=Symbol(),xt=Object(r["a"])({routes:wt,history:Object(r["b"])()});Object(c["c"])(h).provide("key",kt).use(xt).use(m,kt).mount("#app")},ee04:function(t,e,a){"use strict";a("88e7")},fcef:function(t,e,a){"use strict";a("b5b0")}});
//# sourceMappingURL=app.4bfc5093.js.map