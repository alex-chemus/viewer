{"version":3,"file":"js/486.195837a1.js","mappings":"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","sources":["webpack://viewer/./src/features/search/useDebounce.ts","webpack://viewer/./src/features/search/PopupItem/PopupItem.vue?4e27","webpack://viewer/./src/features/search/PopupItem/PopupItem.vue","webpack://viewer/./src/features/search/Popup/Popup.vue?52db","webpack://viewer/./src/features/search/Popup/Popup.vue","webpack://viewer/./src/features/search/SearchContent/SearchContent.vue?318b","webpack://viewer/./src/features/search/SearchContent/SearchContent.vue","webpack://viewer/./src/features/search/Search/Search.vue?b4c9","webpack://viewer/./src/features/search/Search/Search.vue","webpack://viewer/./src/features/feed/ConnectionError/ConnectionError.vue","webpack://viewer/./src/features/feed/ConnectionError/ConnectionError.vue?2f07","webpack://viewer/./src/features/feed/FeedContent/FeedContent.vue?5dc3","webpack://viewer/./src/features/feed/FeedContent/FeedContent.vue","webpack://viewer/./src/features/feed/Feed/Feed.vue?c99f","webpack://viewer/./src/features/feed/Feed/Feed.vue","webpack://viewer/./src/views/Feed.vue?dee1","webpack://viewer/./src/views/Feed.vue"],"sourcesContent":["const useDebounce = (callback: any, delay: any) => {\r\n  /* eslint-disable */\r\n  let timer = setTimeout(() => {});\r\n  /* eslint-enable */\r\n\r\n  const debounceCallback = (...args: any) => {\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => {\r\n      // eslint-disable-next-line\r\n      callback(...args)\r\n    }, delay);\r\n  };\r\n\r\n  return debounceCallback;\r\n};\r\n\r\nexport default useDebounce;\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8e7838ee\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"group-list-item p-2\" }\nconst _hoisted_2 = { class: \"wrapper me-3\" }\nconst _hoisted_3 = [\"title\"]\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"Info\")\n\nimport { ref } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport { IPopupItem } from '../types';\r\nimport { Content } from '@shared'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PopupItem',\n  props: {\n    item: null\n  },\n  setup(__props: any) {\n\r\n\r\n\r\nconst route = useRoute();\r\nconst contentType = ref<Content>(route.params.type as Content || 'movies');\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"li\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"h6\", {\n        class: \"mb-2\",\n        title: __props.item.title\n      }, _toDisplayString(__props.item.title), 9, _hoisted_3),\n      _createElementVNode(\"i\", {\n        class: \"m-0\",\n        title: __props.item.description\n      }, _toDisplayString(__props.item.description), 9, _hoisted_4)\n    ]),\n    _createVNode(_component_router_link, {\n      to: `/${contentType.value}/${__props.item.id}`,\n      class: \"btn btn-warning\"\n    }, {\n      default: _withCtx(() => [\n        _hoisted_5\n      ]),\n      _: 1\n    }, 8, [\"to\"])\n  ]))\n}\n}\n\n})","import script from \"./PopupItem.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PopupItem.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PopupItem.vue?vue&type=style&index=0&id=8e7838ee&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\Programming\\\\JS\\\\viewer\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8e7838ee\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-303ccbaf\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"popup\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loader-container\"\n}\nconst _hoisted_3 = {\n  key: 1,\n  class: \"list-group\"\n}\n\nimport { watch, computed } from 'vue';\r\nimport PopupItem from '../PopupItem/PopupItem.vue';\r\nimport { IPopupItem } from '../types';\r\nimport { Loader } from '@shared';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Popup',\n  props: {\n    searchedList: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\r\n  searchedList: IPopupItem[] | null\r\n}\n\r\n\r\n\r\nwatch(() => props.searchedList, () => {\r\n  console.log('searched list: ', props.searchedList)\r\n})\r\n\r\n// list of search results (movies and series)\r\nconst resultsList = computed(() => {\r\n  if (!props.searchedList) return null\r\n  return props.searchedList\r\n    .map((item: any, i: number) => ({ i, ...item }))\r\n})\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (!_unref(resultsList))\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createVNode(_unref(Loader), { size: \"70\" })\n        ]))\n      : (_unref(resultsList))\n        ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_3, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(resultsList), (item) => {\n              return (_openBlock(), _createBlock(PopupItem, {\n                key: item.i,\n                item: item\n              }, null, 8, [\"item\"]))\n            }), 128))\n          ]))\n        : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./Popup.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Popup.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Popup.vue?vue&type=style&index=0&id=303ccbaf&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\Programming\\\\JS\\\\viewer\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-303ccbaf\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, unref as _unref, normalizeClass as _normalizeClass, Fragment as _Fragment, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-471b614d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"placeholder\"]\n\nimport { computed } from 'vue';\r\nimport { IPopupItem } from '../types';\r\nimport Popup from '../Popup/Popup.vue'\r\nimport { Content } from '@shared';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SearchContent',\n  props: {\n    searchedList: null,\n    isOpened: { type: Boolean },\n    contentType: null\n  },\n  emits: [\"close-popup\", \"input\"],\n  setup(__props: any) {\n\nconst props = __props as {\r\n  searchedList: IPopupItem[] | null,\r\n  isOpened: boolean,\r\n  contentType: Content\r\n}\n\r\n\r\n\r\n/* eslint-disable */\r\n\r\n/* esling-enable */\r\n\r\nconst backdropClasses = computed(() => {\r\n  return ['backdrop', { '--open': props.isOpened }]\r\n})\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"form\", {\n      onSubmit: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n      ref: \"form\"\n    }, [\n      _createElementVNode(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        placeholder: `Search ${__props.contentType}`,\n        onInput: _cache[0] || (_cache[0] = e => _ctx.$emit('input', e as InputEvent))\n      }, null, 40, _hoisted_1),\n      (__props.isOpened)\n        ? (_openBlock(), _createBlock(Popup, {\n            key: 0,\n            searchedList: __props.searchedList\n          }, null, 8, [\"searchedList\"]))\n        : _createCommentVNode(\"\", true)\n    ], 544),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass(_unref(backdropClasses)),\n      onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$emit('close-popup')))\n    }, null, 2)\n  ], 64))\n}\n}\n\n})","import script from \"./SearchContent.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SearchContent.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SearchContent.vue?vue&type=style&index=0&id=471b614d&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\Programming\\\\JS\\\\viewer\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-471b614d\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport useDebounce from '../useDebounce';\r\nimport axios from 'axios';\r\nimport { useStore } from 'vuex';\r\nimport { ref, inject } from 'vue';\r\nimport { IPopupItem } from '../types'\r\nimport { Key } from '@/store'\r\nimport { Content } from '@shared';\r\nimport SearchContent from '../SearchContent/SearchContent.vue'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Search',\n  props: {\n    contentType: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\r\n  contentType: Content\r\n}\n\r\n\r\n\r\nconst key = inject<Key>('key');\r\nconst { getters } = useStore(key);\r\n\r\nconst searchedList = ref<IPopupItem[] | null>(null);\r\nconst isLoading = ref<boolean>(false);\r\nconst isOpened = ref<boolean>(false)\r\n\r\nconst getSearchedData = (event: InputEvent) => {\r\n  const target = event.target as HTMLInputElement;\r\n\r\n  if (target.value.trim() === '') return;\r\n\r\n  isLoading.value = true\r\n  isOpened.value = true\r\n  const inputValue = target.value;\r\n  const urlType = props.contentType === 'movies' \r\n    ? 'SearchMovie' : 'SearchSeries';\r\n\r\n  axios(`${getters.url}/${urlType}/${getters.apiKey}/${inputValue}`)\r\n    .then((res) => {\r\n      if (res.data.errorMessage?.length || res.status !== 200) {\r\n        throw new Error(`The server sent errorMessage: ${res.data.errorMessage}`);\r\n      }\r\n      isLoading.value = false\r\n      console.log('search data: ', res.data)\r\n\r\n      const list: IPopupItem[] = []\r\n      res.data.results.forEach((item: any) => {\r\n        list.push({\r\n          id: item.id,\r\n          title: item.title,\r\n          description: item.description,\r\n          image: item.image,\r\n          resultType: item.resultType\r\n        } as IPopupItem)\r\n      })\r\n      searchedList.value = list\r\n    })\r\n    .catch((err) => {\r\n      console.log(`failed to search ${props.contentType}`, err);\r\n    });\r\n};\r\n\r\nconst onInput = useDebounce(getSearchedData, 1000);\r\n\r\nconst closePopup = () => {\r\n  isOpened.value = false\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(SearchContent, {\n    searchedList: searchedList.value,\n    isOpened: isOpened.value,\n    contentType: __props.contentType,\n    onClosePopup: closePopup,\n    onInput: _unref(onInput)\n  }, null, 8, [\"searchedList\", \"isOpened\", \"contentType\", \"onInput\"]))\n}\n}\n\n})","import script from \"./Search.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Search.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"container\">\n    <h2 class=\"mb-3\">Sorry, but something went wrong</h2>\n    <h3>¯\\_(ツ)_/¯</h3>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '@/common.scss';\n\n.container {\n  @include flex(center, center);\n  flex-direction: column;\n}\n\nh2, h3 {\n  text-align: center;\n  color: var(--text-color);\n}\n</style>\n","import { render } from \"./ConnectionError.vue?vue&type=template&id=25f5326d&scoped=true\"\nconst script = {}\n\nimport \"./ConnectionError.vue?vue&type=style&index=0&id=25f5326d&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\Programming\\\\JS\\\\viewer\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-25f5326d\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-33b9bcc5\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 1,\n  class: \"container pt-5\"\n}\nconst _hoisted_2 = { class: \"row justify-content-center mb-4\" }\nconst _hoisted_3 = { class: \"col-xl-6 col-lg-8 col-12\" }\nconst _hoisted_4 = { class: \"mb-3 text-center\" }\nconst _hoisted_5 = { class: \"row justify-content-center mb-3\" }\n\nimport { ref, onMounted, onUpdated } from 'vue'\r\nimport { ICard, Card } from '@features/card'\r\nimport { Loader, Content } from '@shared'\r\nimport { Search } from '@features/search'\r\nimport ConnectionError from '../ConnectionError/ConnectionError.vue'\r\n\r\ntype ListItem = {\r\n  data: ICard,\r\n  i: number,\r\n}\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FeedContent',\n  props: {\n    isError: { type: Boolean },\n    cardsList: null,\n    contentType: null\n  },\n  emits: [\"observe\"],\n  setup(__props: any, { emit }: { emit: ({\r\n  (e: 'observe'): void\r\n}), expose: any, slots: any, attrs: any }) {\n\r\n\r\n\r\n/* eslint-disable */\r\n\r\n/* eslint-enable */\r\n\r\nconst divRef = ref<HTMLDivElement | null>(null)\r\nconst isObserving = ref<boolean>(false)\r\n\r\nconst observer = new IntersectionObserver((entries) => {\r\n  if (entries.some(i => i.isIntersecting)) {\r\n    emit('observe')\r\n  }\r\n}, { // options\r\n  threshold: 0,\r\n  rootMargin: '10px'\r\n})\r\n\r\nconst setObserver = () => {\r\n  if (divRef.value && !isObserving.value) {\r\n    observer.observe(divRef.value)\r\n    isObserving.value = true\r\n  }\r\n}\r\nonMounted(setObserver)\r\nonUpdated(setObserver)\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.isError)\n    ? (_openBlock(), _createBlock(ConnectionError, { key: 0 }))\n    : (__props.cardsList && __props.cardsList.length > 0)\n      ? (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createElementVNode(\"div\", _hoisted_3, [\n              _createVNode(_unref(Search), { contentType: __props.contentType }, null, 8, [\"contentType\"])\n            ])\n          ]),\n          _createElementVNode(\"h1\", _hoisted_4, \"Popular \" + _toDisplayString(__props.contentType), 1),\n          _createElementVNode(\"div\", _hoisted_5, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.cardsList, (card) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: card.i,\n                class: \"col-xl-2 col-lg-3 col-sm-4 col-8 py-3\"\n              }, [\n                _createVNode(_unref(Card), {\n                  data: card.data\n                }, null, 8, [\"data\"])\n              ]))\n            }), 128))\n          ]),\n          _createElementVNode(\"div\", {\n            class: \"row justify-content-center\",\n            ref_key: \"divRef\",\n            ref: divRef\n          }, null, 512)\n        ]))\n      : (_openBlock(), _createBlock(_unref(Loader), {\n          key: 2,\n          size: \"180\"\n        }))\n}\n}\n\n})","import script from \"./FeedContent.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FeedContent.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./FeedContent.vue?vue&type=style&index=0&id=33b9bcc5&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\Programming\\\\JS\\\\viewer\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-33b9bcc5\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport axios from 'axios';\nimport { ref, watch, inject, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRoute } from 'vue-router';\nimport { Key } from '@/store';\n\nimport { Content } from '@shared';\nimport { ICard } from '@features/card';\nimport FeedContent from '../FeedContent/FeedContent.vue'\n\ntype ListItem = {\n  data: ICard,\n  i: number\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Feed',\n  setup(__props) {\n\nconst key = inject<Key>('key');\nconst { getters } = useStore(key);\nconst route = useRoute();\n\nconst cardsList = ref<ListItem[] | null>(null);\nconst isError = ref<boolean>(false)\nconst loadTo = ref(21);\n\nconst contentType = ref<Content>(route.params.type as Content | 'movies');\nconst storageItem = contentType.value === 'movies' \n  ? 'popularMovies' : 'popularSeries';\nconst urlRequest = contentType.value === 'movies' \n  ? 'MostPopularMovies' : 'MostPopularTVs';\n\nconst fetchData = async () => {\n  try {\n    const res = await axios.get(`${getters.url}/${urlRequest}/${getters.apiKey}`);\n    const isError = res.data.errorMessage !== '' || res.status !== 200;\n    if (isError) throw new Error('Error');\n\n    const list: ListItem[] = [];\n\n    res.data.items.forEach((item: any, i: number) => { // ICard\n      list.push({\n        data: {\n          title: item.title,\n          year: item.year,\n          imDbRating: item.imDbRating,\n          image: item.image,\n          id: item.id\n        } as ICard,\n        i\n      })\n    });\n\n    cardsList.value = list.slice(0, loadTo.value);\n    localStorage.setItem(storageItem, JSON.stringify({ list, time: Date.now() }));\n    return null;\n  } catch (err) {\n    isError.value = true\n    return null;\n  }\n};\n\nconst getData = () => {\n  // if data is stored locally, retrieve it to the ref\n  if (JSON.parse(localStorage.getItem(storageItem) as string)) {\n    const localData = JSON.parse(localStorage.getItem(storageItem) as string);\n    cardsList.value = localData.list.slice(0, loadTo.value);\n    // if the data is expired (1h), fetch it again\n    if (Date.now() - localData.time > 3600000) { // 3_600_000\n      console.log('fetch data')\n      fetchData();\n    }\n  } else { // fetch data if it's not stored locally\n    fetchData();\n  }\n};\n\nwatch(() => route.params, getData);\nonMounted(getData)\n\nconst onObserve = () => {\n  loadTo.value += 20\n  getData()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(FeedContent, {\n    cardsList: cardsList.value,\n    isError: isError.value,\n    contentType: contentType.value,\n    onObserve: onObserve\n  }, null, 8, [\"cardsList\", \"isError\", \"contentType\"]))\n}\n}\n\n})","import script from \"./Feed.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Feed.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","\r\nimport { Feed } from '@features/feed'\r\nexport default Feed\r\n","import script from \"./Feed.vue?vue&type=script&lang=ts\"\nexport * from \"./Feed.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useDebounce","callback","delay","timer","setTimeout","debounceCallback","args","clearTimeout","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createTextVNode","_defineComponent","__name","props","item","setup","__props","route","useRoute","contentType","ref","params","type","_ctx","_cache","_component_router_link","_resolveComponent","_openBlock","_createElementBlock","_createElementVNode","title","_toDisplayString","description","_createVNode","to","value","id","default","_withCtx","_","__exports__","key","searchedList","watch","console","log","resultsList","computed","map","i","_unref","_Fragment","_renderList","_createBlock","PopupItem","_createCommentVNode","Loader","size","isOpened","Boolean","emits","backdropClasses","onSubmit","_withModifiers","placeholder","onInput","e","$emit","Popup","_normalizeClass","onClick","$event","inject","getters","useStore","isLoading","getSearchedData","event","target","trim","inputValue","urlType","axios","url","apiKey","then","res","data","errorMessage","length","status","Error","list","results","forEach","push","image","resultType","catch","err","closePopup","SearchContent","onClosePopup","script","render","isError","cardsList","emit","divRef","isObserving","observer","IntersectionObserver","entries","some","isIntersecting","threshold","rootMargin","setObserver","observe","onMounted","onUpdated","ConnectionError","Search","card","Card","ref_key","loadTo","storageItem","urlRequest","fetchData","async","items","year","imDbRating","slice","localStorage","setItem","JSON","stringify","time","Date","now","getData","parse","getItem","localData","onObserve","FeedContent"],"sourceRoot":""}