{"version":3,"sources":["webpack:///./src/views/Page/Page.vue?bb00","webpack:///./src/components/Paragraph/Paragraph.vue?147a","webpack:///./src/components/Paragraph/Paragraph.vue","webpack:///./src/components/Paragraph/Paragraph.vue?b871","webpack:///./src/components/PageContent/PageContent.vue","webpack:///./src/components/PageContent/PageContent.vue?c8ba","webpack:///./src/views/Page/Page.vue","webpack:///./src/views/Page/Page.vue?10e7","webpack:///./src/components/PageContent/PageContent.vue?eca3"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_defineComponent","props","title","data","setup","__props","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","__exports__","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_4","_createTextVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","key","_hoisted_11","_hoisted_12","badgeClasses","computed","cls","imDbRating","push","join","keyedGenres","genreList","map","item","i","_normalizeClass","_unref","_Fragment","_renderList","genre","value","plot","year","_createBlock","Paragraph","_createCommentVNode","directors","stars","runtimeStr","companies","boxOffice","budget","cumulativeWorldwideGross","countries","ref","inject","commit","getters","useStore","route","useRoute","router","useRouter","contentType","params","type","contentId","id","hasPage","getPage","axios","url","apiKey","then","res","errorMessage","length","status","Error","catch","err","console","log","addToWatchList","async","localStorage","getItem","watchlist","movies","series","setItem","JSON","stringify","parse","isInList","find","rating","similars","src","image","alt","_createVNode","PageContent","onClick","card","Card","Loader","size"],"mappings":"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","file":"js/chunk-f33ed934.e148f091.js","sourcesContent":["export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Page.vue?vue&type=style&index=0&id=077b6aed&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Paragraph.vue?vue&type=style&index=0&id=2203d46e&lang=scss&scoped=true\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2203d46e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"wrapper mb-3\" }\nconst _hoisted_2 = { class: \"m-0\" }\nconst _hoisted_3 = { class: \"m-0 ms-2\" }\n\n\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    title: null,\n    data: null\n  },\n  setup(__props: any) {\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h5\", _hoisted_2, _toDisplayString(__props.title) + \":\", 1),\n    _createElementVNode(\"p\", _hoisted_3, _toDisplayString(__props.data), 1)\n  ]))\n}\n}\n\n})","import script from \"./Paragraph.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Paragraph.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Paragraph.vue?vue&type=style&index=0&id=2203d46e&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\Programming\\\\JS\\\\viewer\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2203d46e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2c8bc52a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"col content px-5 py-4\" }\nconst _hoisted_2 = { class: \"mb-4\" }\nconst _hoisted_3 = { class: \"mb-3\" }\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" Rating: \")\nconst _hoisted_5 = { class: \"wrapper mb-3\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", { class: \"m-0\" }, \"Genres:\", -1))\nconst _hoisted_7 = { class: \"m-0 ms-2\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", null, \"Description\", -1))\nconst _hoisted_9 = { class: \"mb-3\" }\nconst _hoisted_10 = {\n  key: 5,\n  class: \"mb-3\"\n}\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", { class: \"mb-2\" }, \"Box Office:\", -1))\nconst _hoisted_12 = { class: \"mb-1\" }\n\nimport { computed } from 'vue'\r\nimport Paragraph from '@/components/Paragraph/Paragraph.vue'\r\nimport { Content } from '@/types'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    data: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\r\n  data: any, // IPage\r\n}\n\r\n\r\n\r\nconst badgeClasses = computed(() => {\r\n  let cls = ['badge', 'ms-2']\r\n  if (props.data.imDbRating > 8) {\r\n    cls.push('bg-success')\r\n  } else if (props.data.imDbRating > 6) {\r\n    cls.push('bg-warning')\r\n    cls.push('text-dark')\r\n  } else {\r\n    cls.push('bg-danger')\r\n  }\r\n  return cls.join(' ')\r\n})\r\n\r\nconst keyedGenres = computed(() => {\r\n  return props.data.genreList\r\n    .map((item: any, i: number) => ({ key: i, ...item }))\r\n})\r\n\r\n/*export default {\r\n  name: 'PageContent',\r\n\r\n  props: ['data', 'type'],\r\n\r\n  components: { Paragraph },\r\n\r\n  setup(props) {\r\n    const getBadgeClasses = () => {\r\n      let cls = ['badge', 'ms-2']\r\n      if (props.data.imDbRating > 8) {\r\n        cls.push('bg-success')\r\n      } else if (props.data.imDbRating > 6) {\r\n        cls.push('bg-warning')\r\n        cls.push('text-dark')\r\n      } else {\r\n        cls.push('bg-danger')\r\n      }\r\n      return cls.join(' ')\r\n    }\r\n\r\n    const getKeyedGenres = () => {\r\n      return props.data.genreList.map((item, i) => {\r\n        item.key = i\r\n        return item\r\n      })\r\n    }\r\n\r\n    return { getBadgeClasses, getKeyedGenres }\r\n  }\r\n}*/\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h1\", _hoisted_2, _toDisplayString(__props.data.title), 1),\n    _createElementVNode(\"h5\", _hoisted_3, [\n      _hoisted_4,\n      _createElementVNode(\"span\", {\n        class: _normalizeClass(_unref(badgeClasses))\n      }, _toDisplayString(__props.data.imDbRating), 3)\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _hoisted_6,\n      _createElementVNode(\"p\", _hoisted_7, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(keyedGenres), (genre) => {\n          return (_openBlock(), _createElementBlock(\"span\", {\n            key: genre.key,\n            class: \"badge bg-primary ms-2\"\n          }, _toDisplayString(genre.value), 1))\n        }), 128))\n      ])\n    ]),\n    _hoisted_8,\n    _createElementVNode(\"p\", _hoisted_9, _toDisplayString(__props.data.plot), 1),\n    (__props.data.year)\n      ? (_openBlock(), _createBlock(Paragraph, {\n          key: 0,\n          title: \"Year\",\n          data: (__props.data.year as string)\n        }, null, 8, [\"data\"]))\n      : _createCommentVNode(\"\", true),\n    (__props.data.directors)\n      ? (_openBlock(), _createBlock(Paragraph, {\n          key: 1,\n          title: \"Directors\",\n          data: (__props.data.directors as string)\n        }, null, 8, [\"data\"]))\n      : _createCommentVNode(\"\", true),\n    (__props.data.stars)\n      ? (_openBlock(), _createBlock(Paragraph, {\n          key: 2,\n          title: \"Stars\",\n          data: (__props.data.stars as string)\n        }, null, 8, [\"data\"]))\n      : _createCommentVNode(\"\", true),\n    (__props.data.runtimeStr)\n      ? (_openBlock(), _createBlock(Paragraph, {\n          key: 3,\n          title: \"Time\",\n          data: (__props.data.runtimeStr as string)\n        }, null, 8, [\"data\"]))\n      : _createCommentVNode(\"\", true),\n    (__props.data.companies)\n      ? (_openBlock(), _createBlock(Paragraph, {\n          key: 4,\n          title: \"Companies\",\n          data: (__props.data.companies as string)\n        }, null, 8, [\"data\"]))\n      : _createCommentVNode(\"\", true),\n    (__props.data.boxOffice)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n          _hoisted_11,\n          _createElementVNode(\"p\", _hoisted_12, \"Budget: \" + _toDisplayString(__props.data.boxOffice.budget), 1),\n          _createElementVNode(\"p\", null, \"Cumulative Worlwide Gross: \" + _toDisplayString(__props.data.boxOffice.cumulativeWorldwideGross), 1)\n        ]))\n      : _createCommentVNode(\"\", true),\n    (__props.data.countries)\n      ? (_openBlock(), _createBlock(Paragraph, {\n          key: 6,\n          title: \"Countries\",\n          data: __props.data.countries\n        }, null, 8, [\"data\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./PageContent.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PageContent.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PageContent.vue?vue&type=style&index=0&id=2c8bc52a&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\Programming\\\\JS\\\\viewer\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2c8bc52a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-077b6aed\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"container-md pt-5\"\n}\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = { class: \"col-12 col-xl-4 col-md-6 poster-container\" }\nconst _hoisted_4 = [\"src\"]\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"text-center mb-3\" }, \"Similars\", -1))\nconst _hoisted_6 = { class: \"row justify-content-center mb-4\" }\n\nimport { ref, inject, computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport axios from 'axios'\r\nimport { Key } from '@/store'\r\n\r\nimport { Content } from '@/types'\r\nimport Loader from '@/components/Loader/Loader.vue'\r\nimport PageContent from '@/components/PageContent/PageContent.vue'\r\nimport Card from '@/components/Card/Card.vue'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\r\nconst data = ref<any | null>(null) // IPage\r\n\r\nconst key = inject<Key>('key')\r\nconst { commit, getters } = useStore(key)\r\nconst route = useRoute()\r\nconst router = useRouter()\r\n\r\nconst contentType = ref<Content>(route.params.type as Content || 'movies')\r\nconst contentId = route.params.id as string\r\n\r\n// вынести это в lyfecycle hook\r\nif (getters.hasPage(contentId)) { // if content data is cached\r\n  data.value = getters.getPage(contentId)\r\n} else { // else fetch content data\r\n  axios(`${getters.url}/Title/${getters.apiKey}/${contentId}`)\r\n    .then(res => {\r\n      if (res.data.errorMessage?.length || res.status !== 200)\r\n        throw new Error('failed to fetch ', res.data.errorMessage)\r\n      data.value = res.data\r\n      //console.log(data.value)\r\n      commit('addPage', data.value)\r\n    })\r\n    .catch(err => {\r\n      console.log('error in Page:', err)\r\n      router.push('/notfound')\r\n    })\r\n}\r\n\r\n// todo: make it shared\r\nconst addToWatchList = async () => {\r\n  // create watchlist if there's none in the local storage\r\n  if (!localStorage.getItem('watchlist')) {\r\n    const watchlist = {\r\n      movies: [],\r\n      series: []\r\n    }\r\n    localStorage.setItem('watchlist', JSON.stringify(watchlist))\r\n  }\r\n\r\n  const watchlist = JSON.parse(localStorage.getItem('watchlist')!)\r\n\r\n  const isInList = watchlist[contentType.value].find((item: any) => item.id === data.value.id)\r\n  if (isInList) return\r\n\r\n  watchlist[contentType.value].push({\r\n    title: data.value.title,\r\n    rating: data.value.imDbRating,\r\n    type: contentType.value,\r\n    id: data.value.id\r\n  })\r\n  localStorage.setItem('watchlist', JSON.stringify(watchlist))\r\n}\r\n\r\nconst similars = computed(() => {\r\n  return data.value.similars.map((item: any, i: number) => ({ ...item, i }))\r\n}) // ICard[]\r\n\r\n/*export default {\r\n  name: 'Page',\r\n\r\n  components: { Loader, PageContent, Card },\r\n\r\n  setup() {\r\n    const data = ref(null)\r\n\r\n    const { commit, getters } = useStore()\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n\r\n    const type = ref(route.params.type)\r\n    //console.log(route.params.type)\r\n    const id = route.params.id\r\n\r\n    if (type.value !== 'movies' && type.value !== 'series') {\r\n      //console.log('redirect from type check. type.value:', type.value)\r\n      router.push('/notfound')\r\n    }\r\n\r\n    if (getters.hasPage(id)) {\r\n      //console.log('get Page data from storage')\r\n      data.value = getters.getPage(id)\r\n    } else {\r\n      //console.log('fetch Page data')\r\n      axios(`${getters.url}/Title/${getters.apiKey}/${id}`)\r\n        .then(res => {\r\n          if (res.data.errorMessage?.length || res.status !== 200) {\r\n            //console.log('error message length', res.data.errorMessage?.length)\r\n            //console.log('res.data', res.data)\r\n            throw new Error(`The server sent errorMessage: ${res.data.errorMessage}`)\r\n          }\r\n          data.value = res.data\r\n          //console.log(data.value)\r\n          commit('addPage', data.value)\r\n        })\r\n        .catch(err => {\r\n          console.log('error in Page:', err)\r\n          router.push('/notfound')\r\n        })\r\n    }\r\n\r\n    const add = async () => {\r\n      if (!localStorage.getItem('watchlist')) {\r\n        const watchlist = {\r\n          movies: [],\r\n          series: []\r\n        }\r\n        localStorage.setItem('watchlist', JSON.stringify(watchlist))\r\n      }\r\n      const watchlist = JSON.parse(localStorage.getItem('watchlist'))\r\n      if (watchlist[type.value].find(item => item.id === data.value.id)) return\r\n      //console.log('type', type)\r\n      watchlist[type.value].push({\r\n        title: data.value.title,\r\n        rating: data.value.imDbRating,\r\n        type: type.value,\r\n        id: data.value.id\r\n      })\r\n      localStorage.setItem('watchlist', JSON.stringify(watchlist))\r\n    }\r\n\r\n    const getSimilars = () => {\r\n      return data.value.similars.map((item, i) => ({ ...item, i }))\r\n    }\r\n\r\n    return { data, type, getSimilars, add }\r\n  }\r\n}*/\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (data.value)\n    ? (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createElementVNode(\"img\", {\n              src: data.value.image,\n              alt: \"Poster\",\n              class: \"poster\"\n            }, null, 8, _hoisted_4)\n          ]),\n          _createVNode(PageContent, {\n            data: data.value,\n            type: contentType.value\n          }, null, 8, [\"data\", \"type\"])\n        ]),\n        _createElementVNode(\"div\", { class: \"row justify-content-center mb-5\" }, [\n          _createElementVNode(\"button\", {\n            class: \"col-auto btn btn-primary\",\n            onClick: addToWatchList\n          }, \"Add to the watchlist\")\n        ]),\n        _hoisted_5,\n        _createElementVNode(\"div\", _hoisted_6, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(similars), (card) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              key: card.i,\n              class: \"col-xl-2 col-lg-3 col-sm-4 col-8 py-3\"\n            }, [\n              _createVNode(Card, { data: card }, null, 8, [\"data\"])\n            ]))\n          }), 128))\n        ])\n      ]))\n    : (_openBlock(), _createBlock(Loader, {\n        key: 1,\n        size: \"180\"\n      }))\n}\n}\n\n})","import script from \"./Page.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Page.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Page.vue?vue&type=style&index=0&id=077b6aed&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\Programming\\\\JS\\\\viewer\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-077b6aed\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PageContent.vue?vue&type=style&index=0&id=2c8bc52a&lang=scss&scoped=true\""],"sourceRoot":""}